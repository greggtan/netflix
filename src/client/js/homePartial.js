let dbMovieDetails = [
    {
        movieID: 1,
        movieCategory:'Popular On Netflix',
        movieThumbnail: 'https://occ-0-64-58.1.nflxso.net/dnm/api/v6/X194eJsgWBDE2aQbaNdmCXGUP-Y/AAAABS5KksxMnJrkw_dcJypT_UhPFzelf3xlXykdh8sV_IzEeE7SOJjB4TXhb_-nhmW4vql4p2jDa--NZk__UGCtl4aol1Aa-7jp2XC8SaRqS7mkmZPNsrm0O7G0av8b.jpg?r=4d2',
        movieMatchRating: 97,
        movieYear: 2020,
        movieAgeRating: 'M18',
        movieSeasons: '1 Season',
        movieSynopsis: "After a traumatic year, an Indian-American teen just wants to spruce up her social status - but friends, family and feelings won't make it easy on her.",
        movieCast: 'Maitreyi Ramakrishnan, Poorna Jagannathan, Richa Moorjani',
        movieCreators: 'Mindy Kaling, Lang Fisher',
        movieEpisodes: [
            { episode: 1, episodeThumbnail: 'http://192.168.0.103:1313/client/views/episodeImages/image1.jpg', title: 'Pilot', duration: 28, episodeSynopsis: "After recent trauma, Devi starts her first day as a high school sophomore determined to shake off old labels and finally become cool." },

            { episode: 2, episodeThumbnail: 'http://192.168.0.103:1313/client/views/episodeImages/image2.jpg', title: '... had fun with Paxton Hall-Yoshida', duration: '29m', episodeSynopsis: "Devi hesitates to tell her friends the truth about her awkward interactions with Paxton. The prospect of an arranged marriage puts Kamala under pressure." },

            { episode: 3, episodeThumbnail: 'http://192.168.0.103:1313/client/views/episodeImages/image3.jpg', title: '... gotten drunk with the popular kids', duration: '30m', episodeSynopsis: "Devi hopes to win cool points with Paxton at a party, until a surprising turn of events happens. Hidden emotions emerge for Fabiola. Kamala makes a choice." },

            { episode: 4, episodeThumbnail: 'http://192.168.0.103:1313/client/views/episodeImages/image4.jpg', title: '... felt super Indian', duration: '22m', episodeSynopsis: "At Ganesh Puja celebrations, Devi questions how much she identifies with Indian culture, Nalini dodges acerbic aunties and Kamala frets over her future." },

            { episode: 5, episodeThumbnail: 'http://192.168.0.103:1313/client/views/episodeImages/image5.jpg', title: '... started a nuclear war', duration: '29m', episodeSynopsis: "Devi allows rumors about her and Paxton to swirl during an overnight school trip. Fabiola opens up to Eleanor, who gets upsetting news about her mother." },
        ]

    },

    {
        movieID: 2,
        movieCategory:'Popular On Netflix',
        movieThumbnail: 'https://occ-0-64-58.1.nflxso.net/dnm/api/v6/X194eJsgWBDE2aQbaNdmCXGUP-Y/AAAABSW0zKZi3bsk34wxvn3dPGjFxSj06aTD6dOzEQU4_UU2J5WRBVXm-kAGkXjsf2q4KP5bD6TactIKnK1VGSPISkM4lt9AzjUAshyA79J_rQ2D-sLfU9I5Df6ZLz0oiaBpTcsy31txcwGid6SnVxd_SH80Pk3HmkRt1x5W3l6UydVR2TVSG0nXO4XNXaS_MgLlToBoAUQl2-a1QC7WiP2PNkZA.jpg?r=257',
        movieMatchRating: 99,
        movieYear: 2020,
        movieAgeRating: 'PG13',
        movieSeasons:'1 Season',
        movieSynopsis: "A mondern-day Korean emperor passes through a mysterious portal and into a parallel world, where he encounters a feisty polic detective.",
        movieCast: 'Lee Min-ho, Kim Go-eun, Woo Do-hwan',
        movieCreators: 'Kim Eun-sook, Baek Sang-hoon, Jun Jee-hyun',
        movieEpisodes: [
            { episode: 1, episodeThumbnail: 'http://192.168.0.103:1313/client/views/episodeImages/king-ep1.jpg', title: 'Episode 1', duration: '1h 12m', episodeSynopsis: "Lee Gon mourns the tragic death of his father. Lee Lim goes on the run- and finds escape when he comes across a door to a parallel universe." },

            { episode: 2, episodeThumbnail: 'http://192.168.0.103:1313/client/views/episodeImages/king-ep2.jpg', title: 'Episode 2', duration: '1h 12m', episodeSynopsis: "Gon insists he is an emperor from another world. An incredulous Jeong Tae-eul takes him to the police station, where he sees a familiar face." },

            { episode: 3, episodeThumbnail: 'http://192.168.0.103:1313/client/views/episodeImages/king-ep3.jpg', title: 'Episode 3', duration: '1h 11m', episodeSynopsis: "Though Tae-eul finds Gon's story difficult to believe, some things about him are completely inexplicable. At work, she gets busy with a murder case." },

            { episode: 4, episodeThumbnail: 'http://192.168.0.103:1313/client/views/episodeImages/king-ep4.jpg', title: 'Episode 4', duration: '1h 12m', episodeSynopsis: "When Tae-eul loses her police badge, she can't help but think about Gon. Meanwhile, Kang Sin-jae has had it with his mother's bad habits" },

            { episode: 5, episodeThumbnail: 'http://192.168.0.103:1313/client/views/episodeImages/king-ep5.jpg', title: 'Episode 5', duration: '1h 12m', episodeSynopsis: "Being introduced to Gon's world is a lot to process for Tae-eul, who's taken to the palace. A disgruntled Jo Yeong keeps an eye on her" },

            { episode: 6, episodeThumbnail: 'http://192.168.0.103:1313/client/views/episodeImages/king-ep6.jpg', title: 'Episode 6', duration: '1h 12m', episodeSynopsis: "A potential military conflict threatens the kingdom. Gon promises Tae-eul he will return to her, and steps forward to take care of the situation." },

            { episode: 7, episodeThumbnail: 'http://192.168.0.103:1313/client/views/episodeImages/king-ep7.jpg', title: 'Episode 7', duration: '1h 12m', episodeSynopsis: "Gon brings Yeong along on his trip back to Tae-eul. He has a favour to ask of her, while she's found something troubling to share with him." },
        ]

    },

    {
        movieID: 3,
        movieCategory:'Popular On Netflix',
        movieThumbnail: 'https://occ-0-64-58.1.nflxso.net/dnm/api/v6/X194eJsgWBDE2aQbaNdmCXGUP-Y/AAAABavGNbYbTcDVYEj2wSh67wtui5d69UscvdZsZiir2qbdmQLPlDzJsF4yUCWFXOMPX5eVMa5vj9RaODiOBS2UCv2SI-L1cwumhjbm__M8ITxZCgzMX1OSw29iUFfJF5etZ9Uk7-0fX6kkAXbvm4WfLaniChVFW3VDwnI0SxjYQQbDKGJK6tFKx4aU733b6RLmrPSzdAT8iIB71pQItt566VqN.jpg?r=b0a',
        movieMatchRating: 95,
        movieYear: 2020,
        movieAgeRating: 'PG13',
        movieSeasons:'1 Season',
        movieSynopsis: "Cho Gang-hwa is shaken by the sight of Yu-ri, who's got 49 days to find her rightful place. What's more, Cho Seo-woo has gone missing.",
        movieCast: 'Kim Tae-hee, Kim Go-eun, Lee Kyoo-hyung',
        movieCreators: 'Yu Je-Won, Kwon Hye-joo',
        movieEpisodes: [
            { episode: 1, episodeThumbnail: 'http://192.168.0.103:1313/client/views/episodeImages/mama1.jpg', title: 'Life is Full of Unpredictable Surprises', duration: '1h 14m', episodeSynopsis: "Cha Yu-ri, a ghost for five years, realizes her daughter can see her. Just as she decides it's time to move on, she is returned to her human form." },

            { episode: 2, episodeThumbnail: 'http://192.168.0.103:1313/client/views/episodeImages/mama2.jpg', title: 'Forgotten Season', duration: '1h 9m', episodeSynopsis: "Cho Gang-hwa is shaken by the sight of Yu-ri, who's got 49 days to find her rightful place. What's more, Cho Seo-woo has gone missing." },

            { episode: 3, episodeThumbnail: 'http://192.168.0.103:1313/client/views/episodeImages/mama3.jpg', title: 'Realizing the Beauty of Life is Only Possible After Death', duration: '1h 8m', episodeSynopsis: "Though Tae-eul finds Gon's story difficult to believe, some things about him are completely inexplicable. At work, she gets busy with a murder case." },

            { episode: 4, episodeThumbnail: 'http://192.168.0.103:1313/client/views/episodeImages/mama4.jpg', title: "There is Nothing that Won't Happen to Me", duration: '1h 11m', episodeSynopsis: "When Tae-eul loses her police badge, she can't help but think about Gon. Meanwhile, Kang Sin-jae has had it with his mother's bad habits" },

            { episode: 5, episodeThumbnail: 'http://192.168.0.103:1313/client/views/episodeImages/mama5.jpg', title: 'Every Moment When Chance Turns into Fate', duration: '1h 3m', episodeSynopsis: "Being introduced to Gon's world is a lot to process for Tae-eul, who's taken to the palace. A disgruntled Jo Yeong keeps an eye on her" },

            { episode: 6, episodeThumbnail: 'http://192.168.0.103:1313/client/views/episodeImages/mama6.jpg', title: 'Even in the Face of Death, Family is Still My Number One', duration: '1h 7m', episodeSynopsis: "A potential military conflict threatens the kingdom. Gon promises Tae-eul he will return to her, and steps forward to take care of the situation." },

            { episode: 7, episodeThumbnail: 'http://192.168.0.103:1313/client/views/episodeImages/mama7.jpg', title: "People Who Can't Say Goodbye", duration: '1h 11m', episodeSynopsis: "Gon brings Yeong along on his trip back to Tae-eul. He has a favour to ask of her, while she's found something troubling to share with him." },

            { episode: 8, episodeThumbnail: 'http://192.168.0.103:1313/client/views/episodeImages/mama8.jpg', title: "Love That Binds Us All", duration: '1h 17m', episodeSynopsis: "A disgruntled Jo Yeong keeps an eye on her. She's found something troubling to share with him, while his wife finds out the truth." }
        ]

    },

    {
        movieID: 4,
        movieCategory:'Popular On Netflix',
        movieThumbnail: 'https://occ-0-64-58.1.nflxso.net/dnm/api/v6/X194eJsgWBDE2aQbaNdmCXGUP-Y/AAAABZW97BvzlfoMMAUL7KAA9oFzopDlgQLOiPhItHVN4MDbyI32WCV0_G-FFtwP5hp6Fr2iOIxpQMLnnh_9q0rZL-jhy-CJ6hVj1iZ5tJhJkoxWW_Q_6QZ7VLU2qC6WxRuiizs1xZbi0yYghBGUSwMp0yOxALU6Nbyl6YhxDMxPrKtdz38R0G1GwjQ.jpg?r=a6e',
        movieMatchRating: 98,
        movieYear: 2020,
        movieAgeRating: 'NC16',
        movieSeasons: '1 Season',
        movieSynopsis: "Passengers and crew aboard a hijacked overnight flight scramble to outrace the sun as a mysterious cosmic event wreaks havoc on the world below.",
        movieCast: 'Pauline Etienne, Laurent Capelluto, Stefano Cassetti',
        movieCreators: 'Jason George',
        movieEpisodes: [
            { episode: 1, episodeThumbnail: 'http://192.168.0.103:1313/client/views/episodeImages/into1.jpg', title: 'Sylvie', duration: '40m', episodeSynopsis: "When an armed man storms her late-night flight to Moscow, former military pilot Sylvie finds herself pulled into the cockpit to help." },

            { episode: 2, episodeThumbnail: 'http://192.168.0.103:1313/client/views/episodeImages/into2.jpg', title: 'Jakub', duration: '38m', episodeSynopsis: "Mechanic Jakub clashes with the others about what to do next. A Wi-Fi signal brings troubling new intel on the disaster - and on some of the passengers." },

            { episode: 3, episodeThumbnail: 'http://192.168.0.103:1313/client/views/episodeImages/into3.jpg', title: 'Matheiu', duration: '35m', episodeSynopsis: "As the group deals with a series of mechanical crises, Terenzio challenges Mathieu's authority, and Horst makes contact with another plane." },

            { episode: 4, episodeThumbnail: 'http://192.168.0.103:1313/client/views/episodeImages/into4.jpg', title: 'Ayaz', duration: '37m', episodeSynopsis: "Rik organizes a hasty trial to decide Ayaz's fate, Terenzio reveals rumors of a NATO refuge, and Sylvie begins to worry about Mathieu's state of mind." },

            { episode: 5, episodeThumbnail: 'http://192.168.0.103:1313/client/views/episodeImages/into5.jpg', title: 'Rik', duration: '37m', episodeSynopsis: "The mission to NATO headquarters takes a dramatic turn. Laura and Horst tend to a medical emergency. Jakub and Osman race to solve the fuel problem." },

            { episode: 6, episodeThumbnail: 'http://192.168.0.103:1313/client/views/episodeImages/into6.jpg', title: 'Terenzio', duration: '37m', episodeSynopsis: "Emotions run high as the group makes one last desperate bid to reach safety before dawn breaks." }
        ]

    },

    {
        movieID: 5,
        movieCategory:'Popular On Netflix',
        movieThumbnail: 'https://occ-0-64-58.1.nflxso.net/dnm/api/v6/X194eJsgWBDE2aQbaNdmCXGUP-Y/AAAABYKz98Slo71kxt3yu8Ucpxebz0zWIv9wDI_wih8V2aIcDSAY7RSTxJ-EtrqjNAQYGVEekLPxvBsHSTvDJBKR1iil-Co7Q-csXXZcvixEVyd1GvuQQG8Ty6p5Q-aH.jpg?r=8ed',
        movieMatchRating: 98,
        movieYear: 2020,
        movieAgeRating: 'R21',
        movieSeasons: '1 Season',
        movieSynopsis: "A model high school student who's steeped in a world of serious crime finds his double life upended when a classmate takes an interest in his secret.",
        movieCast: 'Kim Dong-hee, Jung Da-bin, Park Ju-hyun',
        movieCreators: 'Gin Han-sai, Kim Jin-Min',
        movieEpisodes: [
            { episode: 1, episodeThumbnail: 'http://192.168.0.103:1313/client/views/episodeImages/extra1.jpg', title: 'Episode 1', duration: '57m', episodeSynopsis: "Lee Gon mourns the tragic death of his father. Lee Lim goes on the run- and finds escape when he comes across a door to a parallel universe." },

            { episode: 2, episodeThumbnail: 'http://192.168.0.103:1313/client/views/episodeImages/extra2.jpg', title: 'Episode 2', duration: '1h 9m', episodeSynopsis: "Gon insists he is an emperor from another world. An incredulous Jeong Tae-eul takes him to the police station, where he sees a familiar face." },

            { episode: 3, episodeThumbnail: 'http://192.168.0.103:1313/client/views/episodeImages/extra3.jpg', title: 'Episode 3', duration: '53m', episodeSynopsis: "Though Tae-eul finds Gon's story difficult to believe, some things about him are completely inexplicable. At work, she gets busy with a murder case." },

            { episode: 4, episodeThumbnail: 'http://192.168.0.103:1313/client/views/episodeImages/extra4.jpg', title: 'Episode 4', duration: '44m', episodeSynopsis: "When Tae-eul loses her police badge, she can't help but think about Gon. Meanwhile, Kang Sin-jae has had it with his mother's bad habits" },

            { episode: 5, episodeThumbnail: 'http://192.168.0.103:1313/client/views/episodeImages/extra5.jpg', title: 'Episode 5', duration: '47m', episodeSynopsis: "Being introduced to Gon's world is a lot to process for Tae-eul, who's taken to the palace. A disgruntled Jo Yeong keeps an eye on her" },

            { episode: 6, episodeThumbnail: 'http://192.168.0.103:1313/client/views/episodeImages/extra6.jpg', title: 'Episode 6', duration: '55m', episodeSynopsis: "A potential military conflict threatens the kingdom. Gon promises Tae-eul he will return to her, and steps forward to take care of the situation." },

            { episode: 7, episodeThumbnail: 'http://192.168.0.103:1313/client/views/episodeImages/extra7.jpg', title: 'Episode 7', duration: '46m', episodeSynopsis: "Gon brings Yeong along on his trip back to Tae-eul. He has a favour to ask of her, while she's found something troubling to share with him." },
        ]

    },

    {
        movieID: 6,
        movieCategory:'Popular On Netflix',
        movieThumbnail: 'https://occ-0-64-58.1.nflxso.net/dnm/api/v6/X194eJsgWBDE2aQbaNdmCXGUP-Y/AAAABd-CfDMElyndVUd2BmaOmPh3oUNgE0VFvzmfOKt8DAmQ7BAAJWnpAUxENF3tq99x6eoCkXksJPyvGCEIp1ONnywLgJqJ0a4czzSzZZ57uKZ654o77XEfd-zjvB5Gnmsfs1tC1U3tJdJqlUFib2_6cXG3c7ROsA.jpg?r=ab0',
        movieMatchRating: 98,
        movieYear: 2020,
        movieAgeRating: 'M18',
        movieSeasons: '2 Seasons',
        movieSynopsis: "A hotheaded widow searching for the hit-and-run driver who mowed down her husband befriends an eccentric optimist who isn't quite what she seems.",
        movieCast: 'Christina Aookegate, Linda Cardellini, James Marsden',
        movieCreators: 'Liz Feldman',
        movieEpisodes: [
            { episode: 1, episodeThumbnail: 'http://192.168.0.103:1313/client/views/episodeImages/dead1.jpg', title: 'Pilot', duration: '33m', episodeSynopsis: "Overwhelmed by grief and anger after her husband's sudden death, acerbic real estate agent Jen meets tenderhearted Judy at a support group." },

            { episode: 2, episodeThumbnail: 'http://192.168.0.103:1313/client/views/episodeImages/dead2.jpg', title: "Maybe I'm Crazy", duration: '30m', episodeSynopsis: "Amid her escalating rage over the stalled investigation into her husband's death, Jen becomes more entangled in Judy's messy personal life." },

            { episode: 3, episodeThumbnail: 'http://192.168.0.103:1313/client/views/episodeImages/dead3.jpg', title: "It's All My Fault", duration: '32m', episodeSynopsis: "On what would have been her husband's 50th birthday, Jen clashes with her disapproving mother-in-law over the best way to mark the occasion." },

            { episode: 4, episodeThumbnail: 'http://192.168.0.103:1313/client/views/episodeImages/dead4.jpg', title: "I Can't Go Back", duration: '27m', episodeSynopsis: "When Jen discovers that her late husband harbored a devastating secret, she enlists Judy's help in tracking down more information." },

            { episode: 5, episodeThumbnail: 'http://192.168.0.103:1313/client/views/episodeImages/dead5.jpg', title: "I've Gotta Get Away", duration: '31m', episodeSynopsis: "The mission to NATO headquarters takes a dramatic turn. Laura and Horst tend to a medical emergency. Jakub and Osman race to solve the fuel problem." },

            { episode: 6, episodeThumbnail: 'http://192.168.0.103:1313/client/views/episodeImages/dead6.jpg', title: 'Oh My God', duration: '27m', episodeSynopsis: "Jen realies her sons aren't coping with their dad's death as well as she thought they were. Judy joins Nick as he investigates the hit-and-run." }
        ]

    },

];







//home partial js
async function loadDetails(movieID) {
    console.log(movieID);

    let dbArrayIndex = 0;

    //set index for use of template string
    for (let i = 0; i < dbMovieDetails.length; i++) {
        if (dbMovieDetails[i].movieID == movieID) {
            dbArrayIndex = i;
        }
    }


    //get html and css and js as text
    // let data = await getDataFromPartial('./client/views/homeDetailsPartial.html');

    let contentDiv = document.getElementById('contentDiv');
    //load into contentDiv
    // contentDiv.innerHTML = data;

    contentDiv.innerHTML = `
    <div class="backButtonWrapper" onclick='home()'>
            <div class="backButton">
                <i class="fas fa-times"></i>
            </div>
        </div>
        
        <div class="headerDetailsWrapper">
        
            <div class="showDetails flexColumn">
                <img src=${dbMovieDetails[dbArrayIndex].movieThumbnail}>
        
                <div class="ratings flexBetween">
                    <span class="matchSpan">${dbMovieDetails[dbArrayIndex].movieMatchRating}% match</span>
                    <span class="greySpan">${dbMovieDetails[dbArrayIndex].movieYear}</span>
                    <div class="ageRating">
                        <span>${dbMovieDetails[dbArrayIndex].movieAgeRating}</span>
                    </div>
                    <span class="greySpan">${dbMovieDetails[dbArrayIndex].movieSeasons}</span>
                    <div class="HD">
                        <span>HD</span>
                    </div>
        
                </div>
        
                <span class="watchSpan">Watch Season 1 now</span>
        
                <div class="playButton flexCenter">
                    <i class="fas fa-play"></i>
                    <span>Play</span>
                </div>
        
                <span class="synopsis">${dbMovieDetails[dbArrayIndex].movieSynopsis}</span>
        
            </div>
        
            <div class="cast">
                <span class="greySpan">Cast: ${dbMovieDetails[dbArrayIndex].movieCast}</span>
                <br>
                <span class="greySpan">Creators: ${dbMovieDetails[dbArrayIndex].movieCreators}</span>
            </div>
        
            <div class="iconsDiv flexStart">
                <div class="movieOption flexColumn">
                    <i class="fas fa-plus"></i>
                    <span>My List</span>
                </div>
                <div class="movieOption flexColumn">
                    <i class="far fa-thumbs-up"></i>
                    <span>Rate</span>
                </div>
                <div class="movieOption flexColumn">
                    <i class="fab fa-telegram-plane"></i>
                    <span>Share</span>
                </div>
            </div>
        
            <div class="showNavBar flexBetween">
                <div class="activeShowTab" id='episodesDiv' onclick="loadEpisodesPartial(${movieID})">
                    <span>EPISODES</span>
                </div>
        
                <div id='trailersDiv' onclick="loadTrailersPartial()">
                    <span>TRAILERS & MORE</span>
                </div>
        
                <div id='moreDiv' onclick="loadMoreLikeThisPartial()">
                    <span>MORE LIKE THIS</span>
                </div>
        
            </div>
        
        </div>
        <!-- spa within details page -->
        <div id="showDetailsDiv">
            
        </div>
        
        
        <style>
            .headerDetailsWrapper {
                padding-top: 45px;
        
            }
        
            .backButtonWrapper {
                position: fixed;
                right: 15px;
                top: 20px;
                z-index: 99;
            }
        
            .backButton {
                border-radius: 100%;
                background-color: #2F2F2F;
                height: 30px;
                width: 30px;
        
                display: flex;
                justify-content: center;
                align-items: center;
        
        
            }
        
            .backButton i {
                color: white;
            }
        
        
            .showDetails {
                color: white;
                padding: 0px 15px 10px 15px;
                /* background-image: url('https://occ-0-64-58.1.nflxso.net/dnm/api/v6/X194eJsgWBDE2aQbaNdmCXGUP-Y/AAAABS5KksxMnJrkw_dcJypT_UhPFzelf3xlXykdh8sV_IzEeE7SOJjB4TXhb_-nhmW4vql4p2jDa--NZk__UGCtl4aol1Aa-7jp2XC8SaRqS7mkmZPNsrm0O7G0av8b.jpg?r=4d2');
                            background-repeat: no-repeat;
                            background-position: center;
                            background-size: cover;
                            -webkit-backdrop-filter: blur(1.5rem); */
            }
        
        
            .showDetails img {
                width: 50vw;
            }
        
            .ratings {
                margin-top: 8px;
                font-size: 13px;
                width: 70vw;
                margin-bottom: 15px;
            }
        
            .matchSpan {
                color: #8FFF46;
                font-weight: 500;
                margin-right: 15px;
            }
        
            .greySpan {
                color: #A7A7A7;
                margin-right: 10px;
            }
        
            .ageRating {
                margin-right: 10px;
                background-color: #5B5B5B;
                padding: 2px 4px;
                border-radius: 2px;
            }
        
            .ageRating {
                font-size: 10px;
            }
        
            .HD {
                border: 2px solid #5B5B5B;
                padding: 2px 4px;
                border-radius: 2px;
                font-size: 10px;
            }
        
            .watchSpan {
                font-weight: 600;
                font-size: 16px;
                margin-bottom: 10px;
            }
        
            .playButton {
                background-color: red;
                width: 100%;
                padding: 7px 5px;
                border-radius: 4px;
                font-size: 14px;
                font-weight: 500;
                margin-bottom: 10px;
            }
        
            .playButton i {
                margin-right: 10px;
            }
        
            .synopsis {
                font-size: 14px;
                font-weight: 500;
            }
        
            .cast {
                font-size: 12px;
                padding: 0px 15px;
            }
        
            .iconsDiv {
                padding: 20px 30px;
        
            }
        
            .movieOption {
                margin-right: 70px;
            }
        
            .movieOption i {
                color: white;
                margin-bottom: 10px;
                font-size: 22px;
        
            }
        
            .movieOption span {
                color: #A7A7A7;
                font-size: 12px;
            }
        
            .showNavBar {
                padding: 0px 15px 30px 15px;
            }
        
            .episodeDivWrapper{
                padding-bottom:15px;
            }
        
            .bodyPadding {
                padding-left: 15px;
                padding-right: 15px;
            }
        
            .showNavBar span {
                color: #A7A7A7;
                font-size: 15px;
                font-weight: 500;
            }
        
            .activeShowTab span {
                color: white;
            }
        </style>
        
        
        <script>
            loadEpisodesPartial(${movieID})

        </script>`


    //get js to work by getting script tag in contentdiv, and eval it.
    const scriptElement = contentDiv.getElementsByTagName("script")[0];

    console.log(scriptElement);

    eval(scriptElement.innerHTML);
}

function setNewActiveHomeDetail(newDiv) {
    //remove active class 
    document.querySelector('.activeShowTab').setAttribute('class', '');
    //set new active class
    document.getElementById(newDiv).setAttribute('class', 'activeShowTab');
}



async function loadEpisodesPartial(movieID) {

    //clear out and replace after
    let showDetailsDiv = document.getElementById('showDetailsDiv');
    showDetailsDiv.innerHTML='';

    // let data = await getDataFromPartial('./client/views/episodesPartial.html');
    // document.getElementById('showDetailsDiv').innerHTML = data;

    //to get index of MOVIE OBJECT in database array for dynamic addition of data
    let dbArrayIndex = 0;

    //set index for use of template string
    for (let i = 0; i < dbMovieDetails.length; i++) {
        if (dbMovieDetails[i].movieID == movieID) {
            dbArrayIndex = i;
        }
    }

    

  
    let seasonDiv= document.createElement('div');
    seasonDiv.innerHTML = `
        <div class="seasonSpan bodyPadding">
            <span class="greySpan">Season 1</span>
        </div>
        `

    showDetailsDiv.appendChild(seasonDiv);


    //dynamically create  episodes

    for (let j = 0; j < dbMovieDetails[dbArrayIndex].movieEpisodes.length; j++) {

        let episodeDivWrapper = document.createElement('div');
        episodeDivWrapper.setAttribute('class', 'episodeDivWrapper bodyPadding');

        episodeDivWrapper.innerHTML = `<div class="episodeDiv flexBetween">

    <div class="leftSection flexStart">
        <div class="thumbnail">

            <img src=${dbMovieDetails[dbArrayIndex].movieEpisodes[j].episodeThumbnail}>
            
            <!-- <div class="playRing flexCenter">
                    <i class="fas fa-play"></i>
                </div> -->
        </div>

        <div class="episodeTitleDiv">
            <span class="episodeTitle">${dbMovieDetails[dbArrayIndex].movieEpisodes[j].episode}. ${dbMovieDetails[dbArrayIndex].movieEpisodes[j].title}</span>
            <br>
            <span class="greySpan episodeTimingSpan">${dbMovieDetails[dbArrayIndex].movieEpisodes[j].duration}</span>
        </div>

    </div>

    <div class="rightSection">
        <i class="fas fa-download"></i>
    </div>
</div>

<div class="episodeDescription">
    <span>${dbMovieDetails[dbArrayIndex].movieEpisodes[j].episodeSynopsis}</span>
</div>
`
        showDetailsDiv.appendChild(episodeDivWrapper);

        console.log(episodesDiv)
    }


    let styleTag = document.createElement('style');
    styleTag.innerHTML = `#showDetailsDiv {
        margin-bottom: 100px;
    }


    .thumbnail {
        position: relative;
        z-index: 1;
        width: 33vw;

        display: flex;
        align-items: center;
        margin-top: 15px;
    }

    .thumbnail img {
        
        width: 33vw;
        z-index: 2;

    }




    .playRing i {
        font-size: 12px;
        color: white;
    }


    .episodeTitleDiv {

        margin-left: 10px;

    }

    .episodeTitle {
        color: white;
        line-height: 20px;
    }



    .rightSection {
        color: white;
        margin-right: 10px;
        font-size: 20px;
    }

    .episodeTimingSpan {
        font-size: 14px;
    }

    .episodeDescription {
        margin-top: 10px;
    }

    .episodeDescription span {
        color: #979797;
        font-size: 15px;
    }`


    showDetailsDiv.appendChild(styleTag);


    setNewActiveHomeDetail('episodesDiv')
}






async function loadTrailersPartial() {
    //clear out and replace after
    let showDetailsDiv = document.getElementById('showDetailsDiv');
    showDetailsDiv.innerHTML='';


    let data = await getDataFromPartial('./client/views/trailersPartial.html');

    showDetailsDiv.innerHTML = data;

    setNewActiveHomeDetail('trailersDiv')
}

async function loadMoreLikeThisPartial() {

    //clear out and replace after
    let showDetailsDiv = document.getElementById('showDetailsDiv');
    showDetailsDiv.innerHTML='';

    let data = await getDataFromPartial('./client/views/morelikethisPartial.html');

    showDetailsDiv.innerHTML = data;

    setNewActiveHomeDetail('moreDiv')
}